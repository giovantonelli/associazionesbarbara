<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Area Soci - Associazione Santa Barbara APS</title>
    <meta name="description" content="Accesso riservato ai soci dell'Associazione Santa Barbara APS">
    <meta name="keywords" content="area soci, login, accesso riservato, associazione">
    
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    
    <!-- Google tag (gtag.js) with Consent Mode -->
    <script>
      // Define dataLayer and the gtag function
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      
      // Set default consent to 'denied' as a placeholder for EU users
      gtag('consent', 'default', {
        'ad_storage': 'denied',
        'ad_user_data': 'denied',
        'ad_personalization': 'denied',
        'analytics_storage': 'denied',
        'wait_for_update': 500
      });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F465WJF33T"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      
      gtag('js', new Date());
      gtag('config', 'G-F465WJF33T');
    </script>

    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3/dist/umd/supabase.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <img src="assets/images/logo.svg" alt="Logo Associazione Santa Barbara APS" class="logo">
                <span class="brand-text">Associazione Santa Barbara APS</span>
            </div>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="chi-siamo.html">Chi Siamo</a></li>
                <li><a href="attivita.html">Attività</a></li>
                <li><a href="eventi.html">Eventi</a></li>
                <li><a href="galleria.html">Galleria</a></li>
                <li><a href="partner.html">Partner</a></li>
                <li><a href="contatti.html">Contatti</a></li>
                <li><a href="area-soci.html" class="active">Area Soci</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <!-- Loading State -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <p>Verifico l'autenticazione...</p>
            </div>
        </div>

        <!-- Not Authenticated State -->
        <div id="not-authenticated" class="auth-required" style="display: none;">
            <section class="hero-section auth-hero">
                <div class="container">
                    <div class="hero-content">
                        <h1>🔐 Area Riservata Soci</h1>
                        <p>Accesso esclusivo per i membri dell'Associazione Santa Barbara APS</p>
                    </div>
                </div>
            </section>

            <section class="access-section">
                <div class="container">
                    <div class="access-content">
                        <div class="access-info">
                            <h2>Benvenuto nell'Area Soci</h2>
                            <p>Qui potrai accedere a contenuti esclusivi riservati ai membri dell'associazione:</p>
                            
                            <div class="benefits-grid">
                                <div class="benefit-item">
                                    <div class="benefit-icon">📋</div>
                                    <h3>Documenti Ufficiali</h3>
                                    <p>Statuto, regolamenti e verbali delle assemblee</p>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">📅</div>
                                    <h3>Eventi Privati</h3>
                                    <p>Calendario esclusivo con eventi riservati ai soci</p>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">📧</div>
                                    <h3>Newsletter</h3>
                                    <p>Comunicazioni riservate e aggiornamenti dal direttivo</p>
                                </div>
                                <div class="benefit-item">
                                    <div class="benefit-icon">💬</div>
                                    <h3>Forum Discussioni</h3>
                                    <p>Spazio di confronto tra i membri dell'associazione</p>
                                </div>
                            </div>
                        </div>

                        <div class="access-actions">
                            <div class="action-card">
                                <h3>Hai già un account?</h3>
                                <p>Accedi con le tue credenziali per visualizzare l'area riservata</p>
                                <a href="login.html" class="btn btn-primary btn-large">
                                    🔑 Accedi
                                </a>
                            </div>
                            
                            <div class="action-card">
                                <h3>Non sei ancora socio?</h3>
                                <p>Registrati per richiedere l'accesso all'associazione</p>
                                <a href="register.html" class="btn btn-secondary btn-large">
                                    📝 Registrati
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Authenticated State -->
        <div id="authenticated-content" class="members-area" style="display: none;">
            <!-- Welcome Header -->
            <section class="member-header">
                <div class="container">
                    <div class="member-welcome">
                        <h1>👋 Benvenuto, <span id="user-name">Socio</span>!</h1>
                        <p>Accesso effettuato il <span id="login-time"></span></p>
                        <div class="member-actions">
                            <button id="logout-btn" class="btn btn-secondary">🚪 Logout</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Member Dashboard -->
            <section class="member-dashboard">
                <div class="container">
                    <div class="dashboard-grid">
                        <!-- Profile Card -->
                        <div class="dashboard-card profile-card">
                            <h3>👤 Il Tuo Profilo</h3>
                            <div class="profile-info">
                                <p><strong>Nome:</strong> <span id="profile-name">-</span></p>
                                <p><strong>Email:</strong> <span id="profile-email">-</span></p>
                                <p><strong>Stato:</strong> <span id="profile-status" class="status-badge">Attivo</span></p>
                                <p><strong>Iscritto dal:</strong> <span id="profile-joined">-</span></p>
                            </div>
                        </div>

                        <!-- Quick Links -->
                        <div class="dashboard-card links-card">
                            <h3>🔗 Link Rapidi</h3>
                            <div class="quick-links">
                                <a href="#documents" class="quick-link" onclick="showSection('documents')">
                                    📋 Documenti
                                </a>
                                <a href="#events" class="quick-link" onclick="showSection('events')">
                                    📅 Eventi Privati
                                </a>
                                <a href="#forum" class="quick-link" onclick="showSection('forum')">
                                    💬 Forum
                                </a>
                                <a href="#newsletter" class="quick-link" onclick="showSection('newsletter')">
                                    📧 Newsletter
                                </a>
                            </div>
                        </div>

                        <!-- Recent Updates -->
                        <div class="dashboard-card updates-card">
                            <h3>🔔 Aggiornamenti Recenti</h3>
                            <div class="update-list">
                                <div class="update-item">
                                    <div class="update-date">15 Lug 2025</div>
                                    <div class="update-text">Pubblicato il verbale dell'assemblea di giugno</div>
                                </div>
                                <div class="update-item">
                                    <div class="update-date">10 Lug 2025</div>
                                    <div class="update-text">Nuovo evento privato: "Preparazione Corteo 2025"</div>
                                </div>
                                <div class="update-item">
                                    <div class="update-date">5 Lug 2025</div>
                                    <div class="update-text">Aggiornamento regolamento interno</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Content Sections -->
            <section class="member-content">
                <div class="container">
                    <!-- Documents Section -->
                    <div id="documents" class="content-section">
                        <h2>📋 Documenti Ufficiali</h2>
                        <div class="documents-grid">
                            <div class="document-item">
                                <div class="doc-icon">📄</div>
                                <div class="doc-info">
                                    <h4>Statuto Associazione</h4>
                                    <p>Documento costitutivo dell'associazione</p>
                                    <span class="doc-date">Aggiornato: 15 Mar 2025</span>
                                </div>
                                <a href="#" class="btn btn-sm">Scarica</a>
                            </div>
                            <div class="document-item">
                                <div class="doc-icon">📋</div>
                                <div class="doc-info">
                                    <h4>Regolamento Interno</h4>
                                    <p>Norme per i soci e le attività</p>
                                    <span class="doc-date">Aggiornato: 5 Lug 2025</span>
                                </div>
                                <a href="#" class="btn btn-sm">Scarica</a>
                            </div>
                            <div class="document-item">
                                <div class="doc-icon">📝</div>
                                <div class="doc-info">
                                    <h4>Verbale Assemblea Giugno</h4>
                                    <p>Resoconto dell'ultima assemblea ordinaria</p>
                                    <span class="doc-date">15 Giu 2025</span>
                                </div>
                                <a href="#" class="btn btn-sm">Scarica</a>
                            </div>
                        </div>
                    </div>

                    <!-- Events Section -->
                    <div id="events" class="content-section" style="display: none;">
                        <h2>📅 Eventi Privati</h2>
                        <div class="events-list">
                            <div class="event-item">
                                <div class="event-date">
                                    <div class="day">25</div>
                                    <div class="month">LUG</div>
                                </div>
                                <div class="event-info">
                                    <h4>Riunione Preparatoria Corteo 2025</h4>
                                    <p>Pianificazione delle attività per il corteo storico</p>
                                    <div class="event-details">
                                        <span>🕐 20:30</span>
                                        <span>📍 Sede Associazione</span>
                                        <span>👥 Solo Soci</span>
                                    </div>
                                </div>
                                <div class="event-actions">
                                    <button class="btn btn-sm btn-primary">Partecipa</button>
                                </div>
                            </div>
                            <div class="event-item">
                                <div class="event-date">
                                    <div class="day">30</div>
                                    <div class="month">LUG</div>
                                </div>
                                <div class="event-info">
                                    <h4>Cena Sociale Estiva</h4>
                                    <p>Serata conviviale per tutti i soci e le famiglie</p>
                                    <div class="event-details">
                                        <span>🕐 19:30</span>
                                        <span>📍 Masseria del Borgo</span>
                                        <span>👥 Soci + Famiglie</span>
                                    </div>
                                </div>
                                <div class="event-actions">
                                    <button class="btn btn-sm btn-primary">Partecipa</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Forum Section -->
                    <div id="forum" class="content-section" style="display: none;">
                        <h2>💬 Forum Discussioni</h2>
                        <div class="forum-topics">
                            <div class="topic-item">
                                <div class="topic-info">
                                    <h4>Proposte per il Corteo 2025</h4>
                                    <p>Discussione aperta per nuove idee e miglioramenti</p>
                                    <div class="topic-meta">
                                        <span>👤 Mario Rossi</span>
                                        <span>💬 12 risposte</span>
                                        <span>🕐 2 ore fa</span>
                                    </div>
                                </div>
                                <button class="btn btn-sm">Leggi</button>
                            </div>
                            <div class="topic-item">
                                <div class="topic-info">
                                    <h4>Organizzazione Eventi Estate</h4>
                                    <p>Coordiniamo le attività estive dell'associazione</p>
                                    <div class="topic-meta">
                                        <span>👤 Anna Bianchi</span>
                                        <span>💬 8 risposte</span>
                                        <span>🕐 1 giorno fa</span>
                                    </div>
                                </div>
                                <button class="btn btn-sm">Leggi</button>
                            </div>
                        </div>
                        <button class="btn btn-primary">💬 Nuovo Argomento</button>
                    </div>

                    <!-- Newsletter Section -->
                    <div id="newsletter" class="content-section" style="display: none;">
                        <h2>📧 Newsletter Riservata</h2>
                        <div class="newsletter-archive">
                            <div class="newsletter-item">
                                <h4>Newsletter Luglio 2025</h4>
                                <p>Aggiornamenti dall'associazione e preparativi per l'estate</p>
                                <div class="newsletter-meta">
                                    <span>📅 15 Lug 2025</span>
                                    <span>📖 5 min lettura</span>
                                </div>
                                <button class="btn btn-sm">Leggi</button>
                            </div>
                            <div class="newsletter-item">
                                <h4>Newsletter Giugno 2025</h4>
                                <p>Resoconto assemblea e nuovi progetti in corso</p>
                                <div class="newsletter-meta">
                                    <span>📅 30 Giu 2025</span>
                                    <span>📖 7 min lettura</span>
                                </div>
                                <button class="btn btn-sm">Leggi</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Associazione Santa Barbara APS</h3>
                    <p>Un'associazione di promozione sociale dedicata alla tradizione e alla cultura del Corteo Storico di Santa Barbara.</p>
                </div>
                <div class="footer-section">
                    <h3>Contatti</h3>
                    <p>📍 Via N. Mastroserio 12, Grumo Appula (BA)</p>
                    <p>📧 info@associazionesbarbara.it</p>
                    <p>📱 Telegram: <a href="https://t.me/associazionesbarbara" target="_blank">@associazionesbarbara</a></p>
                </div>
                <div class="footer-section">
                    <h3>Seguici</h3>
                    <div class="social-links">
                        <a href="https://www.facebook.com/santabarbara.grumoappula" target="_blank" aria-label="Facebook">📘</a>
                        <a href="https://www.instagram.com/corteostoricosantabarbara" target="_blank" aria-label="Instagram">📷</a>
                        <a href="https://t.me/associazionesbarbara" target="_blank" aria-label="Telegram">💬</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="current-year">2025</span> Associazione Santa Barbara APS. Tutti i diritti riservati.</p>
                <div class="footer-links">
                    <a href="privacy.html">Privacy Policy</a>
                    <a href="faq.html">FAQ</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Cookie Banner -->
    <div id="cookie-banner" class="cookie-banner" style="display: none;">
        <div class="cookie-content">
            <div class="cookie-text">
                <h4>🍪 Utilizzo dei Cookie</h4>
                <p>Utilizziamo cookie per migliorare la tua esperienza di navigazione. Accettando, consenti l'uso di cookie analytics e funzionali.</p>
            </div>
            <div class="cookie-buttons">
                <button id="accept-cookies" class="btn btn-primary">Accetta tutti</button>
                <button id="reject-cookies" class="btn btn-secondary">Solo necessari</button>
                <a href="privacy.html" class="privacy-link">Dettagli Privacy</a>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/script.js"></script>
    
    <!-- Supabase Area Soci Script -->
    <script>
        // Initialize Supabase
        const { createClient } = supabase;
        const supabaseClient = createClient(
            'https://ciezrbsolxpjxswdkkpo.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpZXpyYnNvbHhwanhzd2Rra3BvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5MjM1NjAsImV4cCI6MjA2ODQ5OTU2MH0.V-U8KhO8byObUW5kJ8XbLBkp9O9Efh98MdbKYFfbQJk'
        );

        // Global state
        let currentUser = null;
        let currentSession = null;

        // Authentication check
        async function checkAuthentication() {
            try {
                const { data: { session }, error } = await supabaseClient.auth.getSession();
                
                if (error) {
                    console.error('Error getting session:', error);
                    showNotAuthenticated();
                    return;
                }

                if (session && session.user) {
                    currentUser = session.user;
                    currentSession = session;
                    showAuthenticated(session.user);
                } else {
                    showNotAuthenticated();
                }
            } catch (error) {
                console.error('Authentication check failed:', error);
                showNotAuthenticated();
            } finally {
                hideLoading();
            }
        }

        // Show loading screen
        function showLoading() {
            document.getElementById('loading-screen').style.display = 'flex';
            document.getElementById('not-authenticated').style.display = 'none';
            document.getElementById('authenticated-content').style.display = 'none';
        }

        // Hide loading screen
        function hideLoading() {
            document.getElementById('loading-screen').style.display = 'none';
        }

        // Show not authenticated state
        function showNotAuthenticated() {
            document.getElementById('not-authenticated').style.display = 'block';
            document.getElementById('authenticated-content').style.display = 'none';
        }

        // Show authenticated content
        function showAuthenticated(user) {
            document.getElementById('not-authenticated').style.display = 'none';
            document.getElementById('authenticated-content').style.display = 'block';
            
            // Update user information
            updateUserProfile(user);
            
            // Set login time
            document.getElementById('login-time').textContent = new Date().toLocaleString('it-IT');
            
            // Track successful access
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    page_title: 'Area Soci - Authenticated',
                    page_location: window.location.href
                });
            }
        }

        // Update user profile information
        function updateUserProfile(user) {
            const userName = user.user_metadata?.full_name || 
                           `${user.user_metadata?.first_name || ''} ${user.user_metadata?.last_name || ''}`.trim() ||
                           user.email?.split('@')[0] ||
                           'Socio';
            
            document.getElementById('user-name').textContent = userName;
            document.getElementById('profile-name').textContent = userName;
            document.getElementById('profile-email').textContent = user.email || 'N/A';
            
            // Format join date
            const joinDate = user.created_at ? new Date(user.created_at).toLocaleDateString('it-IT') : 'N/A';
            document.getElementById('profile-joined').textContent = joinDate;
        }

        // Logout function
        async function logout() {
            try {
                const { error } = await supabaseClient.auth.signOut();
                
                if (error) {
                    console.error('Logout error:', error);
                    return;
                }

                // Track logout
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'logout', {
                        method: 'supabase'
                    });
                }

                // Clear state
                currentUser = null;
                currentSession = null;
                
                // Redirect to login page
                window.location.href = 'login.html';
                
            } catch (error) {
                console.error('Logout failed:', error);
            }
        }

        // Show specific content section
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.style.display = 'block';
                targetSection.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Show loading and check authentication
            showLoading();
            checkAuthentication();

            // Logout button event listener
            document.getElementById('logout-btn')?.addEventListener('click', logout);

            // Listen for auth state changes
            supabaseClient.auth.onAuthStateChange((event, session) => {
                console.log('Auth state changed:', event, session);
                
                if (event === 'SIGNED_OUT') {
                    showNotAuthenticated();
                } else if (event === 'SIGNED_IN' && session) {
                    currentUser = session.user;
                    currentSession = session;
                    showAuthenticated(session.user);
                }
            });

            // Handle URL hash for direct section access
            const hash = window.location.hash.substring(1);
            if (hash && ['documents', 'events', 'forum', 'newsletter'].includes(hash)) {
                // Wait for authentication check, then show section
                setTimeout(() => {
                    if (currentUser) {
                        showSection(hash);
                    }
                }, 1000);
            }
        });
    </script>

    <!-- Custom Styles for Area Soci -->
    <style>
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .loading-content {
            text-align: center;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .auth-hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 100px 0;
            text-align: center;
        }
        
        .access-section {
            padding: 80px 0;
            background-color: #f8f9fa;
        }
        
        .access-content {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .access-info {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .access-info h2 {
            margin-bottom: 20px;
            color: #333;
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }
        
        .benefit-item {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .benefit-item:hover {
            transform: translateY(-5px);
        }
        
        .benefit-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        
        .benefit-item h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .benefit-item p {
            color: #666;
            font-size: 14px;
        }
        
        .access-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .action-card {
            background: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .action-card h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .action-card p {
            margin-bottom: 25px;
            color: #666;
        }
        
        .btn-large {
            padding: 15px 30px;
            font-size: 16px;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .member-header {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 60px 0;
        }
        
        .member-welcome {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .member-welcome h1 {
            margin: 0;
            font-size: 32px;
        }
        
        .member-welcome p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
        
        .member-actions {
            display: flex;
            gap: 15px;
        }
        
        .member-dashboard {
            padding: 60px 0;
            background: #f8f9fa;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .dashboard-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .dashboard-card h3 {
            margin-bottom: 20px;
            color: #333;
            font-size: 18px;
        }
        
        .profile-info p {
            margin: 10px 0;
            font-size: 14px;
        }
        
        .status-badge {
            background: #4CAF50;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .quick-links {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .quick-link {
            padding: 12px 15px;
            background: #f8f9fa;
            border-radius: 8px;
            text-decoration: none;
            color: #333;
            transition: all 0.3s ease;
        }
        
        .quick-link:hover {
            background: var(--primary-color);
            color: white;
        }
        
        .update-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .update-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }
        
        .update-date {
            font-size: 12px;
            color: #666;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .update-text {
            font-size: 14px;
            color: #333;
        }
        
        .member-content {
            padding: 60px 0;
        }
        
        .content-section {
            margin-bottom: 60px;
        }
        
        .content-section h2 {
            margin-bottom: 30px;
            color: #333;
            font-size: 28px;
        }
        
        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .document-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .doc-icon {
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .doc-info {
            flex: 1;
        }
        
        .doc-info h4 {
            margin: 0 0 5px 0;
            color: #333;
            font-size: 16px;
        }
        
        .doc-info p {
            margin: 0 0 5px 0;
            color: #666;
            font-size: 14px;
        }
        
        .doc-date {
            font-size: 12px;
            color: #999;
        }
        
        .btn-sm {
            padding: 8px 15px;
            font-size: 14px;
            border-radius: 6px;
        }
        
        .events-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .event-item {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .event-date {
            background: var(--primary-color);
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            min-width: 80px;
        }
        
        .event-date .day {
            font-size: 24px;
            font-weight: bold;
            line-height: 1;
        }
        
        .event-date .month {
            font-size: 12px;
            font-weight: 600;
        }
        
        .event-info {
            flex: 1;
        }
        
        .event-info h4 {
            margin: 0 0 10px 0;
            color: #333;
        }
        
        .event-info p {
            margin: 0 0 10px 0;
            color: #666;
            font-size: 14px;
        }
        
        .event-details {
            display: flex;
            gap: 15px;
            font-size: 12px;
            color: #999;
        }
        
        .forum-topics {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .topic-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .topic-info {
            flex: 1;
        }
        
        .topic-info h4 {
            margin: 0 0 8px 0;
            color: #333;
        }
        
        .topic-info p {
            margin: 0 0 10px 0;
            color: #666;
            font-size: 14px;
        }
        
        .topic-meta {
            display: flex;
            gap: 15px;
            font-size: 12px;
            color: #999;
        }
        
        .newsletter-archive {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .newsletter-item {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }
        
        .newsletter-item h4 {
            margin: 0 0 8px 0;
            color: #333;
        }
        
        .newsletter-item p {
            margin: 0 0 10px 0;
            color: #666;
            font-size: 14px;
        }
        
        .newsletter-meta {
            display: flex;
            gap: 15px;
            font-size: 12px;
            color: #999;
        }
        
        @media (max-width: 768px) {
            .member-welcome {
                flex-direction: column;
                text-align: center;
            }
            
            .member-welcome h1 {
                font-size: 24px;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .access-actions {
                grid-template-columns: 1fr;
            }
            
            .benefits-grid {
                grid-template-columns: 1fr;
            }
            
            .event-item,
            .newsletter-item {
                flex-direction: column;
                text-align: center;
            }
            
            .event-details,
            .newsletter-meta,
            .topic-meta {
                flex-wrap: wrap;
                justify-content: center;
            }
        }
    </style>
</body>
</html>
                    <p><strong>Demo:</strong> Usa email: <code>info@associazionesbarbara.it</code> e password: <code>demo123</code></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Members Content (hidden by default) -->
    <section id="members-content" class="members-content" style="display: none;">
        <div class="container">
            <div class="members-welcome">
                <h2>Benvenuto nell'area soci!</h2>
                <p>Qui puoi accedere a tutti i contenuti riservati e gestire la tua iscrizione.</p>
                <button onclick="logout()" class="btn btn-secondary">Logout</button>
            </div>
            
            <!-- Dashboard -->
            <div class="members-dashboard">
                <div class="row">
                    <div class="col-md-3">
                        <div class="dashboard-card">
                            <div class="dashboard-icon">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="var(--primary-color)">
                                    <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                            </div>
                            <h3>Documenti</h3>
                            <p>Accedi a verbali, bilanci e documenti ufficiali</p>
                            <a href="#" class="btn btn-outline">Vai ai documenti</a>
                        </div>
                    </div>
                    
                    <div class="col-md-3">
                        <div class="dashboard-card">
                            <div class="dashboard-icon">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="var(--primary-color)">
                                    <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                            </div>
                            <h3>Eventi</h3>
                            <p>Calendario completo eventi e prenotazioni</p>
                            <a href="eventi.html" class="btn btn-outline">Vedi calendario</a>
                        </div>
                    </div>
                    
                    <div class="col-md-3">
                        <div class="dashboard-card">
                            <div class="dashboard-icon">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="var(--primary-color)">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <h3>Tessera</h3>
                            <p>Gestisci la tua tessera e rinnova l'iscrizione</p>
                            <a href="#" class="btn btn-outline">Gestisci tessera</a>
                        </div>
                    </div>
                    
                    <div class="col-md-3">
                        <div class="dashboard-card">
                            <div class="dashboard-icon">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="var(--primary-color)">
                                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                                </svg>
                            </div>
                            <h3>Comunicazioni</h3>
                            <p>Messaggi e comunicazioni dell'associazione</p>
                            <a href="#" class="btn btn-outline">Leggi messaggi</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Prossimi Eventi -->
            <div class="members-events">
                <h3>I tuoi prossimi eventi</h3>
                <div class="row">
                    <div class="col-md-6">
                        <div class="event-summary">
                            <div class="event-date">
                                <span class="date-day">20</span>
                                <span class="date-month">LUG</span>
                            </div>
                            <div class="event-info">
                                <h4>Assemblea Ordinaria</h4>
                                <p>📅 20 Luglio 2025, ore 20:00</p>
                                <p>📍 Sede Associazione</p>
                                <span class="event-status confirmed">Presenza confermata</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="event-summary">
                            <div class="event-date">
                                <span class="date-day">05</span>
                                <span class="date-month">AGO</span>
                            </div>
                            <div class="event-info">
                                <h4>Cena Sociale</h4>
                                <p>📅 5 Agosto 2025, ore 19:30</p>
                                <p>📍 Ristorante Il Borgo</p>
                                <span class="event-status pending">In attesa di conferma</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Documenti Recenti -->
            <div class="members-documents">
                <h3>Documenti recenti</h3>
                <div class="documents-list">
                    <div class="document-item">
                        <div class="document-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="var(--primary-color)">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                        </div>
                        <div class="document-info">
                            <h4>Verbale Assemblea Giugno 2025</h4>
                            <p>Pubblicato il 15 Giugno 2025</p>
                        </div>
                        <div class="document-actions">
                            <a href="#" class="btn btn-sm btn-outline">Scarica PDF</a>
                        </div>
                    </div>
                    
                    <div class="document-item">
                        <div class="document-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="var(--primary-color)">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                        </div>
                        <div class="document-info">
                            <h4>Bilancio 2024</h4>
                            <p>Pubblicato il 30 Marzo 2025</p>
                        </div>
                        <div class="document-actions">
                            <a href="#" class="btn btn-sm btn-outline">Scarica PDF</a>
                        </div>
                    </div>
                    
                    <div class="document-item">
                        <div class="document-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="var(--primary-color)">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                        </div>
                        <div class="document-info">
                            <h4>Programma Attività 2025</h4>
                            <p>Pubblicato il 15 Gennaio 2025</p>
                        </div>
                        <div class="document-actions">
                            <a href="#" class="btn btn-sm btn-outline">Scarica PDF</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profilo Socio -->
            <div class="member-profile">
                <h3>Il tuo profilo</h3>
                <div class="profile-info">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="profile-section">
                                <h4>Informazioni personali</h4>
                                <p><strong>Nome:</strong> Mario Rossi</p>
                                <p><strong>Email:</strong> info@associazionesbarbara.it</p>
                                <p><strong>Telefono:</strong> +39 123 456 7890</p>
                                <p><strong>Tessera n°:</strong> 2025-001</p>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="profile-section">
                                <h4>Stato iscrizione</h4>
                                <p><strong>Tipo:</strong> Socio ordinario</p>
                                <p><strong>Iscritto dal:</strong> 15 Gennaio 2020</p>
                                <p><strong>Scadenza:</strong> 31 Dicembre 2025</p>
                                <p><strong>Stato:</strong> <span class="status-active">Attivo</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="profile-actions">
                    <a href="#" class="btn btn-outline">Modifica profilo</a>
                    <a href="#" class="btn btn-primary">Rinnova tessera</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <img src="assets/images/logo.svg" alt="Logo Associazione Santa Barbara APS" class="footer-logo">
                    <p>Associazione Santa Barbara APS</p>
                    <p>Promuoviamo la cultura e il volontariato nel nostro territorio</p>
                </div>
                <div class="footer-section">
                    <h4>Link utili</h4>
                    <ul>
                        <li><a href="chi-siamo.html">Chi siamo</a></li>
                        <li><a href="attivita.html">Attività</a></li>
                        <li><a href="eventi.html">Eventi</a></li>
                        <li><a href="contatti.html">Contatti</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Informazioni</h4>
                    <ul>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                        <li><a href="area-soci.html">Area Soci</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Seguici</h4>
                    <div class="social-links">
                        <a href="https://www.facebook.com/santabarbara.grumoappula" class="social-link" aria-label="Facebook">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                        </a>
                        <a href="https://www.instagram.com/corteostoricosantabarbara/" class="social-link" aria-label="Instagram">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                            </svg>
                        </a>
                        <a href="https://t.me/associazionesbarbara" class="social-link" aria-label="Telegram">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2008-<span id="current-year"></span> Associazione Santa Barbara APS. Tutti i diritti riservati.</p>
            </div>
        </div>
    </footer>

    <script src="assets/js/script.js"></script>
</body>
</html>
